#include "gpio.ceu"
#include "wclock.ceu"
#include "adc.ceu"

output high/low PIN_13;

spawn Adc();

loop do
    await 1s;
    var int v1 = _;
    var int v2 = _;
    par/and do
        v1 = await Adc_Conversion(_A0);
    with
        v2 = await Adc_Conversion(_A1);
    end
    if v1+v2 > 2000 then
        emit PIN_13(high);
    else
        emit PIN_13(low);
    end
end
